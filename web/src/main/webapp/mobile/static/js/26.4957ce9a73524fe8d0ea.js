webpackJsonp([26],{JKLC:function(e,r,n){var o=n("a2A+");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n("rjj0")("36d744f0",o,!0,{})},R7Pr:function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=n("eOoE"),t={name:"order",data:function(){return{items:[],pageNum:2,isLoadDom:!1,isLoading:!0,isCheck:"",token:localStorage.getItem("hykToken"),options:{pullDownRefresh:{threshold:80,txt:"刷新成功"},pullUpLoad:{threshold:80,txt:{more:"加载更多",noMore:"没有更多了"}}}}},mounted:function(){this.loadPage(1,1)},methods:{handleCheck:function(e){void 0===e&&(e=""),this.isCheck=e,this.loadPage(1,1)},loadPage:function(e,r){var n=this;Object(o.a)(this.HOST+"/mine/allOrder",{token:n.token,oilStatus:n.isCheck,currPage:e},n.isLoading).then(function(e){var o=e.data;if("200"!==o.code)return n.showToast(o.msg),!1;var t=o.list;n.isLoadDom=!0,t.forEach(function(e,r){var n=e.cardNo;e.cardNo=n.replace(/(.{4})/g,"$1 ")}),1===r?(n.items=t,n.pageNum=2):t.length>0&&(n.items=n.items.concat(t),n.pageNum=n.pageNum+1),setTimeout(function(){n.$refs.scroll.forceUpdate()},300)})},onPullingDown:function(){this.isLoading=!1,this.loadPage(1,1)},onPullingUp:function(){var e=this;e.isLoading=!1,setTimeout(function(){e.loadPage(e.pageNum,2)},800)},formatDate:function(e,r){var n=new Date(1e3*e),o={"M+":n.getMonth()+1,"d+":n.getDate(),"h+":n.getHours(),"m+":n.getMinutes(),"s+":n.getSeconds()};for(var t in/(y+)/.test(r)&&(r=r.replace(RegExp.$1,(n.getFullYear()+"").substr(4-RegExp.$1.length))),o)new RegExp("("+t+")").test(r)&&(r=r.replace(RegExp.$1,1===RegExp.$1.length?o[t]:("00"+o[t]).substr((""+o[t]).length)));return r},showToast:function(e){this.$createToast({txt:e,type:"warn",time:1500}).show()}}},a={render:function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("div",{staticClass:"content_panel orderPanel"},[n("div",{staticClass:"tab"},[n("ul",{staticClass:"oli"},[n("li",{class:{active:""===e.isCheck},on:{click:function(r){e.handleCheck()}}},[e._v("全部")]),e._v(" "),n("li",{class:{active:0===e.isCheck},on:{click:function(r){e.handleCheck(0)}}},[e._v("执行中")]),e._v(" "),n("li",{class:{active:1===e.isCheck},on:{click:function(r){e.handleCheck(1)}}},[e._v("已完成")]),e._v(" "),n("div",{staticClass:"clear"})])]),e._v(" "),n("cube-scroll",{ref:"scroll",staticClass:"page_order bodyBg",attrs:{options:e.options,data:e.items},on:{"pulling-down":e.onPullingDown,"pulling-up":e.onPullingUp}},[n("div",{staticClass:"order_list"},[0===e.items.length&&e.isLoadDom?n("div",{staticClass:"noDataTip order"},[n("dl",[n("dt"),e._v(" "),n("dd",[e._v("暂无加油订单")])])]):e._e(),e._v(" "),e._l(e.items,function(r,o){return n("div",{key:o,staticClass:"order_box"},[n("router-link",{attrs:{to:"0"===r.orderStatus?"/pay?orderNo="+r.orderNo:"/orderDetail?orderNo="+r.orderNo}},[n("h4",["2"===r.orderStatus?n("span",{staticClass:"success"},[e._v(e._s("0"===r.oilStatus?0==r.goodsType?"加油计划执行中":"待加油":"已完成"))]):"1"===r.orderStatus?n("span",[e._v("充值中")]):"0"===r.orderStatus?n("span",{staticClass:"wait_pay"},[e._v("待支付")]):"4"===r.orderStatus?n("span",{staticClass:"cancel"},[e._v("已失效")]):"6"===r.orderStatus?n("span",{staticClass:"error"},[e._v("已退款")]):"5"===r.orderStatus?n("span",{staticClass:"error"},[e._v("已暂停")]):n("span",{staticClass:"error"},[e._v("订单超时")]),e._v("\n            "+e._s("0"===r.goodsType?"套餐充值":"即时充值"))]),e._v(" "),n("dl",[n("dt",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:""+r.goodsImg,expression:"`${data.goodsImg}`",arg:"background-image"}]}),e._v(" "),n("dd",[n("h2",[n("span",[e._v("￥"),n("label",[e._v(e._s(r.amt))])]),e._v(e._s(r.goodsName))]),e._v(" "),n("p",[e._v(e._s(""===r.cardNo?"当前账户暂未绑定油卡":r.cardNo))])]),e._v(" "),n("div",{staticClass:"clear"})])])],1)})],2)])],1)},staticRenderFns:[]};var i=n("VU/8")(t,a,!1,function(e){n("JKLC")},null,null);r.default=i.exports},"a2A+":function(e,r,n){(e.exports=n("FZ+f")(!1)).push([e.i,"\n.orderPanel .tab {\n  width: 100%;\n  padding: 0;\n  background: #f5f5f5;\n  position: absolute;\n  top: 0;\n  z-index: 99;\n  height: auto;\n}\n.orderPanel .tab ul.oli {\n  width: 100%;\n  height: 1.066667rem;\n  background: #ffffff;\n  box-shadow: 0 0.053333rem 0.16rem rgba(0, 0, 0, 0.06);\n}\n.orderPanel .tab ul.oli li {\n  width: 33.33333%;\n  height: auto;\n  font-size: 0.373333rem;\n  color: #333333;\n  line-height: 1.066667rem;\n  text-align: center;\n  position: relative;\n  float: left;\n}\n.orderPanel .tab ul.oli li.active {\n  color: #FF4456;\n}\n.orderPanel .tab ul.oli li.active:after {\n  content: '';\n  width: 0.88rem;\n  height: 0.08rem;\n  background: #FF4456;\n  position: absolute;\n  bottom: 0;\n  left: 50%;\n  margin-left: -0.44rem;\n}\n.orderPanel .order_list {\n  width: 100%;\n  height: auto;\n  padding: 0.4rem 0.4rem 0 0.4rem !important;\n  color: #333;\n}\n.orderPanel .order_list .order_box {\n  width: 100%;\n  height: auto;\n  background: #FFFFFF;\n  border-radius: 0.106667rem;\n  box-shadow: 0.026667rem 0.026667rem 0.08rem rgba(0, 0, 0, 0.05);\n  margin-bottom: 0.32rem;\n  padding: 0.266667rem 0.4rem;\n}\n.orderPanel .order_list .order_box a {\n  color: #333;\n}\n.orderPanel .order_list .order_box h4 {\n  width: 100%;\n  height: auto;\n  border-bottom: solid 0.026667rem #EBEBEB;\n  font-size: 0.373333rem;\n  color: #999;\n  text-align: left;\n  padding: 0.133333rem 0 0.266667rem;\n}\n.orderPanel .order_list .order_box h4 span {\n  float: right;\n  color: #333;\n}\n.orderPanel .order_list .order_box h4 span.wait_pay {\n  color: #FF4456;\n}\n.orderPanel .order_list .order_box h4 span.cancel {\n  color: #999999;\n}\n.orderPanel .order_list .order_box h4 span.success {\n  color: #36A94C;\n}\n.orderPanel .order_list .order_box h4 span.error {\n  color: red;\n}\n.orderPanel .order_list .order_box dl {\n  width: 100%;\n  position: relative;\n  padding: 0.266667rem 0 0.133333rem 1.6rem;\n}\n.orderPanel .order_list .order_box dl dt {\n  width: 1.6rem;\n  height: 1.6rem;\n  border-radius: 0.08rem;\n  overflow: hidden;\n  position: absolute;\n  left: 0;\n  background-position: center center;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-color: #f5f5f5;\n}\n.orderPanel .order_list .order_box dl dt[lazy=error],\n.orderPanel .order_list .order_box dl dt[lazy=loading] {\n  background-size: 0.8rem 0.96rem !important;\n}\n.orderPanel .order_list .order_box dl dd {\n  width: 100%;\n  padding-left: 0.373333rem;\n  height: 1.6rem;\n}\n.orderPanel .order_list .order_box dl dd h2 {\n  font-size: 0.373333rem;\n  line-height: 0.8rem;\n  padding-bottom: 0.266667rem;\n  text-align: left;\n}\n.orderPanel .order_list .order_box dl dd h2 span {\n  float: right;\n  font-size: 0.373333rem;\n}\n.orderPanel .order_list .order_box dl dd h2 span label {\n  font-size: 0.533333rem;\n}\n.orderPanel .order_list .order_box dl dd p {\n  font-size: 0.373333rem;\n  color: #666666;\n}",""])}});