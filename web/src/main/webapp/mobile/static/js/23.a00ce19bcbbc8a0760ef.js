webpackJsonp([23],{aLWQ:function(e,n,a){var t=a("i4mW");"string"==typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);a("rjj0")("37674fd2",t,!0,{})},i4mW:function(e,n,a){var t=a("kxFB");(e.exports=a("FZ+f")(!1)).push([e.i,"\n.pay_page {\n  color: #333;\n  padding: 0.266667rem !important;\n}\n.pay_page .pay_box {\n  width: 100%;\n  height: auto;\n  background: #FFFFFF;\n  padding: 0 0.4rem;\n  margin-bottom: 0.4rem;\n  border-radius: 0.133333rem;\n}\n.pay_page .pay_box dl {\n  width: 100%;\n  height: auto;\n  border-bottom: dashed 0.026667rem #ebebeb;\n  padding-top: 1.333333rem;\n}\n.pay_page .pay_box dl dt {\n  font-size: 0.8rem;\n  line-height: 1;\n  padding-bottom: 0.266667rem;\n}\n.pay_page .pay_box dl dt span {\n  font-size: 0.56rem;\n}\n.pay_page .pay_box dl dd {\n  color: #999;\n  font-size: 0.32rem;\n}\n.pay_page .pay_box dl dd p {\n  padding: 1.066667rem 0 0.266667rem 0;\n  text-align: center;\n}\n.pay_page .pay_box dl dd p span {\n  color: #333;\n}\n.pay_page .pay_box .more {\n  padding: 0.373333rem 0;\n  font-size: 0.32rem;\n}\n.pay_page .pay_box .more ul {\n  width: 100%;\n  height: auto;\n}\n.pay_page .pay_box .more ul li {\n  text-align: left;\n  font-size: 0.373333rem;\n  height: auto;\n  line-height: 1.5em;\n  clear: both;\n  padding: 0.133333rem 0.053333rem;\n  color: #999;\n}\n.pay_page .pay_box .more ul li span {\n  color: #333;\n  float: right;\n  width: 75%;\n  text-align: right;\n  line-height: 1.5em;\n}\n.pay_page .pay_box .more ul li span label {\n  padding-left: 0.533333rem;\n}\n.pay_page .pay_box .more p {\n  display: block;\n  text-align: center;\n}\n.pay_page .pay_box .more p i {\n  width: 0.24rem;\n  height: 0.24rem;\n  display: inline-block;\n  margin-right: 0.133333rem;\n}\n.pay_page .pay_box .more p i.down {\n  background: url("+t(a("J1/E"))+") no-repeat;\n  background-size: contain;\n}\n.pay_page .pay_box .more p i.up {\n  background: url("+t(a("QbRH"))+") no-repeat;\n  background-size: contain;\n}\n.pay_page .pay_status {\n  width: 100%;\n  height: auto;\n}\n.pay_page .pay_status dl {\n  width: 100%;\n  padding-bottom: 0.4rem;\n}\n.pay_page .pay_status dl dt {\n  width: 3.2rem;\n  height: 3.2rem;\n  border: solid 0.026667rem #FFDECC;\n  border-radius: 50%;\n  position: relative;\n  margin: 1.066667rem auto;\n}\n.pay_page .pay_status dl dt svg {\n  width: 1.6rem;\n  height: 1.6rem;\n  fill: #FF4456;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin: -0.8rem 0 0 -0.8rem;\n}\n.pay_page .pay_status dl dd {\n  font-size: 0.48rem;\n  letter-spacing: 0.026667rem;\n  line-height: 1;\n}\n.pay_page .pay_status p {\n  text-align: center;\n  font-size: 0.4rem;\n  color: #999999;\n  letter-spacing: 0.026667rem;\n  margin-bottom: 1.066667rem;\n}\n.pay_page .pay_status .submit-button {\n  padding: 0.533333rem 0.8rem;\n}\n.pay_page .pay_status .submit-button button {\n  letter-spacing: 0.106667rem;\n}\n.pay_page .pay_status .submit-button p {\n  padding-top: 0.48rem;\n  color: #FF4456;\n  font-size: 0.48rem;\n  text-decoration: underline;\n}\n.pay_page .pay {\n  padding: 0.533333rem 0.4rem;\n  background: #FFFFFF;\n  border-radius: 0.133333rem;\n}\n.pay_page .pay p {\n  font-size: 0.4rem;\n  font-weight: 600;\n}\n.pay_page .pay .submit-button {\n  padding: 0.533333rem;\n}\n.pay_page .pay .submit-button button {\n  letter-spacing: 0.106667rem;\n}\n.pay_page .pay ul {\n  padding-top: 0.4rem;\n}\n.pay_page .pay ul li {\n  width: 100%;\n  height: auto;\n  line-height: 0.72rem;\n  font-size: 0.4rem;\n  padding: 0.4rem 0.053333rem;\n  border-bottom: solid 0.026667rem #ebebeb;\n  position: relative;\n  text-align: left;\n}\n.pay_page .pay ul li span {\n  padding-left: 0.133333rem;\n  color: #999999;\n}\n.pay_page .pay ul li dl {\n  float: left;\n}\n.pay_page .pay ul li dl dt {\n  line-height: 1.5em;\n}\n.pay_page .pay ul li dl dt.payed {\n  line-height: 2.5em;\n}\n.pay_page .pay ul li dl dd {\n  font-size: 0.32rem;\n  color: #999999;\n  line-height: 1;\n}\n.pay_page .pay ul li .checkbox {\n  width: 0.533333rem;\n  height: 0.533333rem;\n  border: solid 0.026667rem #cccccc;\n  border-radius: 50%;\n  position: absolute;\n  right: 0.053333rem;\n  top: 50%;\n  overflow: hidden;\n  margin-top: -0.266667rem;\n}\n.pay_page .pay ul li .checkbox div {\n  width: 100%;\n  height: 100%;\n  border-radius: 50%;\n  background: #FF4456;\n  position: relative;\n  display: none;\n}\n.pay_page .pay ul li .checkbox div svg {\n  width: 0.373333rem;\n  height: 0.373333rem;\n  position: absolute;\n  left: 50%;\n  fill: #FFFFFF;\n  top: 50%;\n  margin: -0.186667rem 0 0 -0.186667rem;\n}\n.pay_page .pay ul li .checkbox.active {\n  border: none;\n}\n.pay_page .pay ul li .checkbox.active div {\n  display: block;\n  animation: zoomIn 0.1s;\n  -webkit-animation: zoomIn 0.1s;\n}\n.pay_page .pay ul li .cube-checkbox,\n.pay_page .pay ul li .cube-checkbox-wrap {\n  padding: 0;\n}\n.pay_page .pay ul li .cube-checkbox .cube-checkbox-label,\n.pay_page .pay ul li .cube-checkbox-wrap .cube-checkbox-label {\n  line-height: 0.72rem;\n  color: #333333;\n}\n.pay_page .pay ul li i {\n  width: 0.72rem;\n  height: 0.72rem;\n  margin-right: 0.266667rem;\n  float: left;\n}\n.pay_page .pay ul li i.wechat {\n  background: url("+t(a("lgOT"))+") no-repeat;\n  background-size: contain;\n}\n.pay_page .pay ul li i.alipay {\n  background: url("+t(a("F4l4"))+") no-repeat;\n  background-size: contain;\n}\n.pay_page .pay ul li i.bank {\n  background: url("+t(a("DyKU"))+") no-repeat;\n  background-size: contain;\n}\n.pay_page .pay ul li i.pay {\n  background: url("+t(a("K0IS"))+") no-repeat;\n  background-size: contain;\n}\n.pay_page .pay ul li i.balance {\n  background: url("+t(a("8lZ9"))+") no-repeat;\n  background-size: contain;\n  margin-top: 0.133333rem;\n}\n.pay_page .pay ul li.disabled {\n  color: #bbbbbb;\n}\n.pay_page .pay ul li.disabled .checkbox {\n  border-color: #bbbbbb;\n}\n.pay_page .pay ul li.disabled dl {\n  float: left;\n}\n.pay_page .pay ul li.disabled dl dt {\n  line-height: 1.5em;\n  color: #bbbbbb;\n}\n.pay_page .pay ul li.disabled dl dd {\n  font-size: 0.32rem;\n  color: #bbbbbb;\n  line-height: 1;\n}\n.pay_page .pay ul li.disabled i.balance {\n  background: url("+t(a("TEO1"))+") no-repeat;\n  background-size: contain;\n  margin-top: 0.133333rem;\n}\n.pay_page .pay ul li:last-child {\n  border: none;\n}",""])},mTUd:function(e,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=a("eOoE"),i=0,o={name:"pay",data:function(){return{options:{swipeBounceTime:400,stopPropagation:!0},hykOrder:[],orderNo:this.$route.query.orderNo,ulShow:!1,token:localStorage.getItem("hykToken"),countTime:"",myCount:"",goodsType:"",isDisabled:!1,btnTxt:"下一步",balance:"",otherPay:[{type:"快捷支付",class:"pay"}],selectIndex:"",selectBalance:!1,isGroup:!1,dataGroup:1,balancePay:!0}},mounted:function(){this.loadPage()},watch:{},methods:{loadPage:function(){var e=this;Object(t.a)(this.HOST+"/order/seeOrder",{token:e.token,orderNo:e.orderNo}).then(function(n){var a=n.data;if("200"!==a.code)return e.showToast(a.msg),!1;var t=a.hykOrder,i=t.orderMoney.toString();if(t.redpackageAmt>0&&(i=t.orderMoney.toString()),-1!==i.indexOf(".")){var o=i.split(".")[0],r=i.split(".")[1];e.$set(t,"Int",o),e.$set(t,"Last","."+r)}else e.$set(t,"Int",i),e.$set(t,"Last",".00");if(e.hykOrder=t,e.balance=0===t.balancePayment?a.balance:t.balancePayment,e.goodsType=t.goodsType,"0"===t.goodsType){if(0===e.balance)return e.selectIndex=0,e.dataGroup=0,!1;e.balance<t.orderMoney?(e.balancePay=!1,e.selectIndex=0,e.selectBalance=!0,e.isGroup=!0):(e.balancePay=!1,e.selectBalance=!0)}else{if(e.balance<t.orderMoney)return e.isDisabled=!0,!1;e.balancePay=!1,e.dataGroup=1,e.selectBalance=!0}var l=t.createTime+1800-t.sysTime;l>0?e.getCountDown(l):(e.isDisabled=!0,e.btnTxt="订单已过期",e.countTime="00:00")})},handleOtherPay:function(e){if(0!==this.hykOrder.balancePayment)return!1;if("0"===this.goodsType){if(0===this.balance)return this.dataGroup=0,!1;if(this.balance<this.hykOrder.orderMoney&&this.balance>0)return 4===e&&(this.selectBalance=!this.selectBalance,this.isGroup=!this.isGroup,this.dataGroup=this.isGroup?1:0),!1;this.selectIndex=e,e<4?(this.selectIndex=e,this.selectBalance=!1,this.dataGroup=0):(this.dataGroup=1,this.selectBalance=!0)}else{if(this.balance<this.hykOrder.orderMoney)return this.isDisabled=!0,!1;this.balancePay=!1,this.dataGroup=1,this.selectBalance=!0}},handleShow:function(){this.ulShow=!0},handlePay:function(){var e=this;Object(t.a)(this.HOST+"/f/web/pay/createOrder",{token:e.token,id:e.hykOrder.id,payType:3,type:e.dataGroup,chnl:3}).then(function(n){var a=n.data;if("200"!==a.code)return"201"===a.code?(event.preventDefault(),location.replace(a.url),!1):(e.showToast(a.msg),!1);event.preventDefault(),location.replace(a.url)})},getCountDown:function(e){var n=this;n.myCount=setInterval(function(){var a=e-++i,t=Math.floor(a/60%60),o=Math.floor(a%60);0===t&&0===o&&(clearInterval(n.myCount),n.isDisabled=!0,n.btnTxt="订单已过期"),t<10&&(t="0"+t),o<10&&(o="0"+o),n.countTime=t+":"+o},1e3)},showToast:function(e){this.$createToast({txt:e,type:"warn",time:1500}).show()}},beforeDestroy:function(){clearInterval(this.myCount)}},r={render:function(){var e=this,n=e.$createElement,a=e._self._c||n;return a("div",{staticClass:"content_panel"},[a("cube-scroll",{ref:"scroll",staticClass:"page_full bodyBg",attrs:{options:e.options}},[a("div",{staticClass:"page pay_page"},[a("div",{staticClass:"pay_box"},[a("dl",[a("dt",[e._v("￥"+e._s(e.hykOrder.Int)),a("span",[e._v(e._s(e.hykOrder.Last))])]),e._v(" "),a("dd",[e._v("\n            订单金额\n            "),a("p",[e._v("剩余时间 "),a("span",[e._v(e._s(e.countTime))])])])]),e._v(" "),a("div",{staticClass:"more"},[a("ul",{directives:[{name:"show",rawName:"v-show",value:e.ulShow,expression:"ulShow"}]},[a("li",[a("span",[e._v(e._s(""===e.hykOrder.cardNo?"当前账户暂未绑定油卡":e.hykOrder.cardNo))]),e._v("充值油卡号")]),e._v(" "),a("li",[a("span",[e._v(e._s(e.hykOrder.orderNo))]),e._v("订单编号")]),e._v(" "),"0"===e.hykOrder.goodsType?a("li",[a("span",[e._v(e._s(e.hykOrder.activityDiscount)+"折/"+e._s(e.hykOrder.cycel)+"个月")]),e._v("充值套餐\n            ")]):a("li",[a("span",[e._v(e._s(e.hykOrder.val)+"元/即时充值")]),e._v("充值套餐")]),e._v(" "),a("li",[a("span",[e._v(e._s(e.hykOrder.amt)+"元")]),e._v("订单总额")]),e._v(" "),e.hykOrder.redpackageAmt>0?a("li",[a("span",{staticStyle:{color:"red"}},[e._v("-"+e._s(e.hykOrder.redpackageAmt))]),e._v("优惠减免")]):e._e()]),e._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:!e.ulShow,expression:"!ulShow"}],on:{click:e.handleShow}},[a("i",{staticClass:"down"}),e._v("查看订单详情")])])]),e._v(" "),a("div",{staticClass:"pay"},[a("p",[e._v("选择支付方式，并支付")]),e._v(" "),a("ul",[a("li",{class:{disabled:e.balancePay},on:{click:function(n){e.handleOtherPay(4)}}},[a("i",{staticClass:"balance"}),e._v(" "),a("dl",[a("dt",[e._v("余额支付"),e.isGroup?a("span",[e._v("（组合支付："+e._s(e.balance)+"元）")]):e._e()]),e._v(" "),a("dd",[e.balancePay?a("label",[e._v("余额不足,")]):e._e(),e._v("可用余额（"+e._s(e.balance)+"元）")])]),e._v(" "),e.balancePay?e._e():a("div",{staticClass:"checkbox",class:{active:e.selectBalance}},[a("div",[a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#duigou"}})])])]),e._v(" "),a("div",{staticClass:"clear"})]),e._v(" "),e._l(e.otherPay,function(n,t){return"0"===e.goodsType?a("li",{key:t,on:{click:function(n){e.handleOtherPay(t)}}},[a("i",{class:n.class}),e._v(e._s(n.type)),e.isGroup?a("span",[e._v("（组合支付："+e._s((100*e.hykOrder.orderMoney-100*e.balance)/100)+"元）")]):e._e(),e._v(" "),a("div",{staticClass:"checkbox",class:{active:e.selectIndex===t}},[a("div",[a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#duigou"}})])])])]):e._e()}),e._v(" "),a("li",{staticClass:"disabled"},[a("i",{staticClass:"alipay"}),e._v("支付宝支付（暂仅支持APP使用）\n          ")]),e._v(" "),a("li",{staticClass:"disabled"},[a("i",{staticClass:"wechat"}),e._v("微信支付（暂仅支持APP使用）\n          ")])],2),e._v(" "),a("div",{staticClass:"submit-button"},[a("cube-button",{attrs:{disabled:e.isDisabled},on:{click:e.handlePay}},[e._v(e._s(e.btnTxt))])],1)])])])],1)},staticRenderFns:[]};var l=a("VU/8")(o,r,!1,function(e){a("aLWQ")},null,null);n.default=l.exports}});