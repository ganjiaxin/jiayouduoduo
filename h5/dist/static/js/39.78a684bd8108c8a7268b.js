webpackJsonp([39],{"2rff":function(e,n,o){(e.exports=o("FZ+f")(!1)).push([e.i,"\n.orderPanel .tab {\n  width: 100%;\n  padding: 0;\n  background: #f5f5f5;\n  position: absolute;\n  top: 0;\n  z-index: 99;\n  height: auto;\n}\n.orderPanel .tab ul.goods {\n  width: 100%;\n  height: 1.066667rem;\n  background: #ffffff;\n  box-shadow: 0 0.053333rem 0.16rem rgba(0, 0, 0, 0.06);\n}\n.orderPanel .tab ul.goods li {\n  width: 25%;\n  height: auto;\n  font-size: 0.373333rem;\n  color: #333333;\n  line-height: 1.066667rem;\n  text-align: center;\n  position: relative;\n  float: left;\n}\n.orderPanel .tab ul.goods li.active {\n  color: #FF4456;\n}\n.orderPanel .tab ul.goods li.active:after {\n  content: '';\n  width: 0.88rem;\n  height: 0.08rem;\n  background: #FF4456;\n  position: absolute;\n  bottom: 0;\n  left: 50%;\n  margin-left: -0.44rem;\n}\n.orderPanel .order_list {\n  width: 100%;\n  height: auto;\n  padding: 0.4rem 0.4rem 0 0.4rem !important;\n  color: #333;\n}\n.orderPanel .order_list .order_box {\n  width: 100%;\n  height: auto;\n  background: #FFFFFF;\n  border-radius: 0.106667rem;\n  box-shadow: 0.026667rem 0.026667rem 0.08rem rgba(0, 0, 0, 0.05);\n  margin-bottom: 0.32rem;\n  padding: 0.266667rem 0.4rem;\n}\n.orderPanel .order_list .order_box a {\n  color: #333;\n}\n.orderPanel .order_list .order_box h4 {\n  width: 100%;\n  height: auto;\n  border-bottom: solid 0.026667rem #EBEBEB;\n  font-size: 0.373333rem;\n  color: #999;\n  text-align: left;\n  padding: 0.133333rem 0 0.266667rem;\n}\n.orderPanel .order_list .order_box h4 span {\n  float: right;\n  color: #333;\n}\n.orderPanel .order_list .order_box h4 span.wait_pay {\n  color: #FF4456;\n}\n.orderPanel .order_list .order_box h4 span.cancel {\n  color: #999999;\n}\n.orderPanel .order_list .order_box h4 span.success {\n  color: #36A94C;\n}\n.orderPanel .order_list .order_box h4 span.error {\n  color: red;\n}\n.orderPanel .order_list .order_box dl {\n  width: 100%;\n  position: relative;\n  padding: 0.266667rem 0 0.133333rem 1.6rem;\n}\n.orderPanel .order_list .order_box dl dt {\n  width: 1.6rem;\n  height: 1.6rem;\n  border-radius: 0.08rem;\n  overflow: hidden;\n  position: absolute;\n  left: 0;\n  background-position: center center;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-color: #f5f5f5;\n}\n.orderPanel .order_list .order_box dl dt[lazy=error],\n.orderPanel .order_list .order_box dl dt[lazy=loading] {\n  background-size: 0.8rem 0.96rem !important;\n}\n.orderPanel .order_list .order_box dl dd {\n  width: 100%;\n  padding-left: 0.373333rem;\n  height: 1.6rem;\n}\n.orderPanel .order_list .order_box dl dd h2 {\n  font-size: 0.373333rem;\n  line-height: 0.8rem;\n  padding-bottom: 0.266667rem;\n  text-align: left;\n}\n.orderPanel .order_list .order_box dl dd h2 span {\n  float: right;\n  font-size: 0.373333rem;\n}\n.orderPanel .order_list .order_box dl dd h2 span label {\n  font-size: 0.533333rem;\n}\n.orderPanel .order_list .order_box dl dd p {\n  font-size: 0.373333rem;\n  color: #666666;\n}",""])},McOH:function(e,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=o("eOoE"),t={name:"order",data:function(){return{items:[],pageNum:2,isLoadDom:!1,isLoading:!0,isCheck:"",token:localStorage.getItem("hykToken"),options:{pullDownRefresh:{threshold:80,txt:"刷新成功"},pullUpLoad:{threshold:80,txt:{more:"加载更多",noMore:"没有更多了"}}}}},mounted:function(){this.loadPage(1,1)},methods:{handleCheck:function(e){void 0===e&&(e=""),this.isCheck=e,this.loadPage(1,1)},loadPage:function(e,n){var o=this;Object(r.a)(this.HOST+"/shop/allOrder",{token:o.token,sendStatus:o.isCheck,currPage:e},o.isLoading).then(function(e){var r=e.data;if("200"!==r.code)return o.showToast(r.msg),!1;var t=r.list;o.isLoadDom=!0,1===n?(o.items=t,o.pageNum=2):t.length>0&&(o.items=o.items.concat(t),o.pageNum=o.pageNum+1),setTimeout(function(){o.$refs.scroll.forceUpdate()},300)})},onPullingDown:function(){this.isLoading=!1,this.loadPage(1,1)},onPullingUp:function(){var e=this;e.isLoading=!1,setTimeout(function(){e.loadPage(e.pageNum,2)},800)},formatDate:function(e,n){var o=new Date(1e3*e),r={"M+":o.getMonth()+1,"d+":o.getDate(),"h+":o.getHours(),"m+":o.getMinutes(),"s+":o.getSeconds()};for(var t in/(y+)/.test(n)&&(n=n.replace(RegExp.$1,(o.getFullYear()+"").substr(4-RegExp.$1.length))),r)new RegExp("("+t+")").test(n)&&(n=n.replace(RegExp.$1,1===RegExp.$1.length?r[t]:("00"+r[t]).substr((""+r[t]).length)));return n},showToast:function(e){this.$createToast({txt:e,type:"warn",time:1500}).show()}}},a={render:function(){var e=this,n=e.$createElement,o=e._self._c||n;return o("div",{staticClass:"content_panel orderPanel"},[o("div",{staticClass:"tab"},[o("ul",{staticClass:"goods"},[o("li",{class:{active:""===e.isCheck},on:{click:function(n){e.handleCheck()}}},[e._v("全部")]),e._v(" "),o("li",{class:{active:0===e.isCheck},on:{click:function(n){e.handleCheck(0)}}},[e._v("待发货")]),e._v(" "),o("li",{class:{active:1===e.isCheck},on:{click:function(n){e.handleCheck(1)}}},[e._v("已发货")]),e._v(" "),o("li",{class:{active:2===e.isCheck},on:{click:function(n){e.handleCheck(2)}}},[e._v("已完成")]),e._v(" "),o("div",{staticClass:"clear"})])]),e._v(" "),o("cube-scroll",{ref:"scroll",staticClass:"page_order bodyBg",attrs:{options:e.options,data:e.items},on:{"pulling-down":e.onPullingDown,"pulling-up":e.onPullingUp}},[o("div",{staticClass:"order_list"},[0===e.items.length&&e.isLoadDom?o("div",{staticClass:"noDataTip order"},[o("dl",[o("dt"),e._v(" "),o("dd",[e._v("暂无惠优订单")])])]):e._e(),e._v(" "),e._l(e.items,function(n,r){return o("div",{key:r,staticClass:"order_box"},[o("router-link",{attrs:{to:"0"===n.status?"/payGoods?goodsId="+n.id:"/orderShop?goodsId="+n.id}},[o("h4",["2"===n.status?o("span",{staticClass:"success"},[e._v(e._s("0"===n.goodsType?"已完成":"0"===n.sendStatus?"待发货":"1"===n.sendStatus?"已发货":"已完成"))]):"0"===n.status?o("span",{staticClass:"wait_pay"},[e._v("待支付")]):o("span",{staticClass:"error"},[e._v("订单超时")]),e._v("\n            "+e._s("0"===n.goodsType?"虚拟商品":"实物商品"))]),e._v(" "),o("dl",[o("dt",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:""+n.img,expression:"`${data.img}`",arg:"background-image"}]}),e._v(" "),o("dd",[o("h2",[o("span",[e._v("￥"),o("label",[e._v(e._s(n.money))])]),e._v(e._s(n.goodsName))]),e._v(" "),o("p",[e._v(e._s(n.payDateStr))])]),e._v(" "),o("div",{staticClass:"clear"})])])],1)})],2)])],1)},staticRenderFns:[]};var i=o("VU/8")(t,a,!1,function(e){o("n05B")},null,null);n.default=i.exports},n05B:function(e,n,o){var r=o("2rff");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);o("rjj0")("2c74a660",r,!0,{})}});