webpackJsonp([30],{"66f8":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("eOoE"),a=n("+cKO"),d=n("sWDS"),r={name:"add-address",data:function(){return{isDefault:!1,isDefaultStr:0,token:localStorage.getItem("hykToken"),name:"",phone:"",address:"",addressId:this.$route.query.addressId,options:{swipeBounceTime:400},type:this.$route.query.type}},validations:{phone:{required:a.required,phone:d.d},address:{required:a.required},name:{required:a.required}},watch:{isDefault:function(e){this.isDefaultStr=e?1:0}},mounted:function(){this.loadAddress()},methods:{handleDelete:function(){var e=this;Object(s.a)(this.HOST+"/mine/delAdd",{token:e.token,addressId:e.addressId},!1).then(function(t){var n=t.data;if("200"!==n.code)return e.showToast(n.msg),!1;e.showConfirm("地址已移除")})},loadAddress:function(){var e=this;Object(s.a)(this.HOST+"/mine/oneAddress",{token:e.token,addressId:e.addressId}).then(function(t){var n=t.data;if("200"!==n.code)return e.showToast(n.msg),!1;var s=n.hykAddress;e.name=s.name,e.address=s.address,e.phone=s.phone,"1"===s.isDefault?e.isDefault=!0:e.isDefault=!1})},showToast:function(e){this.$createToast({txt:e,type:"warn",time:1500}).show()},showConfirm:function(e){var t=this;this.$createToast({txt:e,type:"txt",time:1500}).show(),setTimeout(function(){t.$router.replace("/addressList")},1600)},handleAdd:function(){var e=this,t=e.$v;return t.$touch(),t.name.$error?(e.showToast("请输入收货人姓名"),!1):t.phone.required?t.phone.phone?t.address.$error?(e.showToast("请输入收货人地址"),!1):void Object(s.a)(this.HOST+"/mine/updateAdd",{token:e.token,name:e.name,phone:e.phone,address:e.address,addressId:e.addressId,isDefault:e.isDefaultStr}).then(function(t){var n=t.data;if("200"!==n.code)return e.showToast(n.msg),!1;e.$router.replace("/addressList")}):(e.showToast("手机号不正确"),!1):(e.showToast("请输入收货人手机号"),!1)}}},i={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content_panel"},[n("cube-scroll",{ref:"scroll",staticClass:"page_full bodyBg page_set",attrs:{options:e.options}},[n("div",{staticClass:"page address_page"},[n("div",{staticClass:"address_box add_box"},[n("div",{staticClass:"list"},[n("div",{staticClass:"item"},[n("cube-input",{attrs:{type:"text",placeholder:"收货人"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),e._v(" "),n("div",{staticClass:"item"},[n("cube-input",{attrs:{type:"tel",maxlength:11,placeholder:"手机号码"},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}})],1),e._v(" "),n("div",{staticClass:"item",staticStyle:{"padding-bottom":"10px"}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.address,expression:"address"}],attrs:{placeholder:"收货地址"},domProps:{value:e.address},on:{input:function(t){t.target.composing||(e.address=t.target.value)}}})])])]),e._v(" "),n("div",{staticClass:"default",staticStyle:{"margin-bottom":"15px"}},[n("cube-switch",{model:{value:e.isDefault,callback:function(t){e.isDefault=t},expression:"isDefault"}},[e._v("\n          设为默认地址\n        ")])],1),e._v(" "),e.isDefault?e._e():n("div",{staticClass:"delete",on:{click:e.handleDelete}},[e._v("\n        删除该地址\n      ")]),e._v(" "),n("div",{staticClass:"submit-button"},[n("cube-button",{on:{click:e.handleAdd}},[e._v("确定")])],1)])])],1)},staticRenderFns:[]};var o=n("VU/8")(r,i,!1,function(e){n("7I8u")},null,null);t.default=o.exports},"7I8u":function(e,t,n){var s=n("sZrL");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);n("rjj0")("5c87c2a1",s,!0,{})},sZrL:function(e,t,n){(e.exports=n("FZ+f")(!1)).push([e.i,"\n.page_set {\n  padding-top: 0.4rem;\n}\n.page_set .cube-input::after {\n  border-radius: 0 !important;\n  border-top: none !important;\n  border-left: none !important;\n  border-right: none !important;\n}\n.page_set .address_page {\n  color: #333;\n}\n.page_set .address_page .submit-button {\n  padding: 0.8rem;\n}\n.page_set .address_page .submit-button button {\n  letter-spacing: 0.106667rem;\n}\n.page_set .address_page .delete {\n  width: 100%;\n  text-align: center;\n  background: #FFFFFF;\n  font-size: 0.373333rem;\n  padding: 0.533333rem 0;\n  color: #FF4456;\n  letter-spacing: 0.026667rem;\n  margin-bottom: 0.8rem;\n}\n.page_set .address_page .default {\n  width: 100%;\n  height: auto;\n  background: #FFFFFF;\n  margin-bottom: 0.8rem;\n  padding: 0.533333rem 0.4rem;\n}\n.page_set .address_page .default .cube-switch .cube-switch-label {\n  font-size: 0.373333rem;\n  margin: 0;\n}\n.page_set .address_page .default .cube-switch .cube-switch-ui {\n  position: absolute;\n  right: 0;\n}\n.page_set .address_page .default .cube-switch .cube-switch-input {\n  width: 100%;\n}\n.page_set .address_page .address_box {\n  width: 100%;\n  height: auto;\n  background: #FFFFFF;\n  padding: 0 0.4rem;\n  margin-bottom: 0.8rem;\n}\n.page_set .address_page .address_box .list {\n  width: 100%;\n}\n.page_set .address_page .address_box .list input,\n.page_set .address_page .address_box .list textarea {\n  font-size: 0.4rem;\n  padding: 0.32rem 0.213333rem;\n  color: #333;\n  font-family: Arial;\n}\n.page_set .address_page .address_box .list textarea {\n  width: 100%;\n  height: 2.133333rem;\n  outline: none;\n  border: none;\n}\n.page_set .address_page .address_box .list .item {\n  width: 100%;\n  margin-bottom: 0.106667rem;\n}\n.page_set .address_page .address_box .list dl:last-child {\n  border: none;\n}\n.page_set .address_page .address_box .list dl.active {\n  position: relative;\n  padding-left: 0.933333rem;\n}\n.page_set .address_page .address_box .list dl.active .checkbox {\n  width: 0.48rem;\n  height: 0.48rem;\n  border-radius: 50%;\n  position: absolute;\n  left: 0;\n  top: 50%;\n  overflow: hidden;\n  margin-top: -0.24rem;\n}\n.page_set .address_page .address_box .list dl.active .checkbox div {\n  width: 100%;\n  height: 100%;\n  border-radius: 50%;\n  background: #FF4456;\n  position: relative;\n  display: block;\n}\n.page_set .address_page .address_box .list dl.active .checkbox div svg {\n  width: 0.373333rem;\n  height: 0.373333rem;\n  position: absolute;\n  left: 50%;\n  fill: #FFFFFF;\n  top: 50%;\n  margin: -0.186667rem 0 0 -0.186667rem;\n}\n.page_set .address_page .address_box .list dl {\n  width: 100%;\n  padding: 0.533333rem 0;\n  position: relative;\n  border-bottom: solid 0.026667rem #ebebeb;\n}\n.page_set .address_page .address_box .list dl dt {\n  float: left;\n  width: 80%;\n  padding-right: 0.4rem;\n}\n.page_set .address_page .address_box .list dl dt h2 {\n  text-align: left;\n  font-size: 0.426667rem;\n  padding-bottom: 0.213333rem;\n}\n.page_set .address_page .address_box .list dl dt h2 span {\n  padding-left: 0.266667rem;\n  font-size: 0.32rem;\n  color: #666666;\n}\n.page_set .address_page .address_box .list dl dt p {\n  font-size: 0.32rem;\n  line-height: 1.5em;\n}\n.page_set .address_page .address_box .list dl dt p i {\n  color: #FF4456;\n  border: solid 0.026667rem #FF4456;\n  background: #ffe7e9;\n  margin-right: 0.133333rem;\n  line-height: 1;\n  font-style: normal;\n  border-radius: 0.053333rem;\n  font-size: 0.293333rem;\n  padding: 0 0.053333rem;\n}\n.page_set .address_page .address_box .list dl dd {\n  width: 1.733333rem;\n  height: 0.8rem;\n  border-left: solid 0.026667rem #ebebeb;\n  line-height: 0.8rem;\n  position: absolute;\n  right: 0;\n  top: 50%;\n  margin-top: -0.4rem;\n  text-align: center;\n  font-size: 0.373333rem;\n  color: #999999;\n}\n.page_set .address_page .address_box.add_box {\n  margin-bottom: 0.4rem;\n}",""])}});