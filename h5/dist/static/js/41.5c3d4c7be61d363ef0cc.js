webpackJsonp([41],{Irnu:function(e,n,t){var o=t("r3vJ");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);t("rjj0")("f72a735c",o,!0,{})},S4Ys:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("+cKO"),r=t("sWDS"),i=t("eOoE"),a={name:"setPass",data:function(){return{options:{swipeBounceTime:400},phone:this.$route.query.phone,code:"",type:this.$route.query.type,password:"",tjcode:"",is_sendCode:!0,eye:{open:!1,reverse:!1},tip:"获取验证码"}},validations:{password:{required:o.required,hasBlank:r.a,minLength:Object(o.minLength)(8)},code:{onlyNumber:r.c}},methods:{countStatus:function(){var e=this;e.is_sendCode=!1,setTimeout(function(){var n=61,t=setInterval(function(){--n>0&&n<61?e.tip=n+"s":(clearInterval(t),e.tip="重新发送",e.is_sendCode=!0)},1e3)},500)},getCode:function(){var e=this;e.is_sendCode&&Object(i.a)(e.HOST+"/f/app/getCode",{phone:e.phone,type:e.type},!1).then(function(n){var t=n.data;if("200"!==t.code)return e.showToast(t.msg),!1;e.countStatus()})},checkCode:function(){var e=this,n=e.$v;return n.$touch(),!!n.code.onlyNumber&&(Object(i.a)(e.HOST+"/f/app/checkCode",{phone:e.phone,userCode:e.code,type:e.type},!1).then(function(n){var t=n.data;if("200"!==t.code)return e.showToast(t.msg),!1}),!0)},handleReg:function(){var e=this;return!!e.checkCode()&&(!!e.checkPass()&&void Object(i.a)(this.HOST+"/f/app/register",{phone:e.phone,password:e.password,inviterId:e.tjcode,channel:"H5"},!1).then(function(n){var t=n.data;if("200"!==t.code)return e.showToast(t.msg),!1;localStorage.setItem("hykUserId",t.id),localStorage.setItem("hykToken",t.token),localStorage.setItem("hykPhone",t.phone),e.$router.replace("/home")}))},handleRepass:function(){var e=this;return!!e.checkCode()&&(!!e.checkPass()&&void Object(i.a)(this.HOST+"/f/app/updatepwd",{phone:e.phone,password:e.password},!1).then(function(n){var t=n.data;if("200"!==t.code)return e.showToast(t.msg),!1;e.showConfirm("密码已修改")}))},checkPass:function(){var e=this.$v;return e.$touch(),e.password.required?e.password.hasBlank?(this.showToast("密码不能包含空格"),!1):!!e.password.minLength||(this.showToast("密码长度必须为8-16位"),!1):(this.showToast("请输入密码"),!1)},showToast:function(e){this.$createToast({txt:e,type:"warn",time:1500}).show()},showConfirm:function(e){var n=this;this.$createToast({txt:e,type:"txt",time:1500}).show(),setTimeout(function(){n.$router.replace("/login?phone="+n.phone+"&redirect="),localStorage.removeItem("hykToken"),localStorage.removeItem("hykUserId")},1600)}}},s={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"content_panel reg_panel"},[t("cube-scroll",{ref:"scroll",staticClass:"page_full",attrs:{options:e.options}},[t("div",{staticClass:"page"},[t("div",{staticClass:"reg_box pd"},[t("h2",{staticStyle:{"padding-bottom":"2%"}},[e._v(e._s(1===e.type?"注册账号":"修改密码"))]),e._v(" "),t("input",{staticStyle:{position:"absolute",top:"-50px",opacity:"0",filter:"alpha(opacity=0)"},attrs:{type:"password"}}),e._v(" "),t("div",{staticClass:"item"},[t("div",{staticClass:"view_phone",staticStyle:{"padding-bottom":"20%"}},[t("p",[e._v(e._s(e.phone))])]),e._v(" "),t("div",{staticClass:"getCode"},[t("cube-input",{attrs:{type:"tel",placeholder:"请输入验证码",maxlength:4},model:{value:e.code,callback:function(n){e.code=n},expression:"code"}}),e._v(" "),t("button",{class:{disabled:!e.is_sendCode},on:{click:e.getCode}},[e._v(e._s(e.tip))])],1),e._v(" "),t("cube-input",{staticClass:"setPass",attrs:{type:"password",placeholder:"设置密码",maxlength:16,eye:e.eye},model:{value:e.password,callback:function(n){e.password=n},expression:"password"}}),e._v(" "),1==e.type?[t("cube-input",{attrs:{type:"text",placeholder:"推荐人邀请码（选填）"},model:{value:e.tjcode,callback:function(n){e.tjcode=n},expression:"tjcode"}})]:e._e()],2),e._v(" "),1==e.type?t("div",{staticClass:"item"},[t("cube-button",{on:{click:e.handleReg}},[e._v("确定")])],1):t("div",{staticClass:"item"},[t("cube-button",{on:{click:e.handleRepass}},[e._v("重置密码")])],1)])])])],1)},staticRenderFns:[]};var l=t("VU/8")(a,s,!1,function(e){t("Irnu")},null,null);n.default=l.exports},r3vJ:function(e,n,t){var o=t("kxFB");(e.exports=t("FZ+f")(!1)).push([e.i,"\n.reg_panel .cube-input::after,\n.reg_panel .cube-textarea-wrapper::after {\n  border-radius: 0 !important;\n  border-top: none !important;\n  border-left: none !important;\n  border-right: none !important;\n}\n.reg_panel .reg_box {\n  width: 100%;\n  height: auto;\n  padding: 0 0.666667rem;\n}\n.reg_panel .reg_box h2 {\n  text-align: left;\n  padding-bottom: 1.866667rem;\n  line-height: 1;\n}\n.reg_panel .reg_box .item {\n  margin-bottom: 2.133333rem;\n}\n.reg_panel .reg_box .item .getCode {\n  width: 100%;\n  height: auto;\n  position: relative;\n  margin-bottom: 0.4rem;\n}\n.reg_panel .reg_box .item .getCode button {\n  position: absolute;\n  border: none;\n  top: 0;\n  right: 0;\n  background: none;\n  color: #5097FF;\n  font-size: 0.4rem;\n  height: 1.2rem;\n  line-height: 1.2rem;\n  outline: none;\n}\n.reg_panel .reg_box .item .getCode button.disabled {\n  color: #999999;\n}\n.reg_panel .reg_box .item .view_phone {\n  width: 100%;\n  height: auto;\n  line-height: 1;\n  padding: 0.533333rem 0;\n}\n.reg_panel .reg_box .item .view_phone p {\n  font-size: 0.64rem;\n  letter-spacing: 0.053333rem;\n  color: #666666;\n}\n.reg_panel .reg_box .item .pass {\n  margin-bottom: 0.4rem;\n}\n.reg_panel .reg_box .item .link {\n  font-size: 0.4rem;\n}\n.reg_panel .reg_box .item .link a {\n  color: #3A8BBB;\n  float: right;\n  padding-left: 0.32rem;\n}\n.reg_panel .reg_box .item input {\n  font-size: 0.4rem;\n  padding: 0.32rem 0.213333rem;\n  color: #333;\n}\n.reg_panel .reg_box .item button {\n  padding: 0;\n  height: 1.333333rem;\n  line-height: 1.333333rem;\n  border-radius: 0.666667rem;\n  font-size: 0.48rem;\n  letter-spacing: 0.053333rem;\n}\n.reg_panel .reg_box .item .code_txt {\n  font-size: 0.4rem;\n  color: #666;\n  text-align: center;\n  margin-bottom: 0.533333rem;\n}\n.reg_panel .reg_box .item .error {\n  text-align: center;\n  color: #FF5757;\n  font-size: 0.4rem;\n  line-height: 1;\n  padding-bottom: 0.933333rem;\n  letter-spacing: 0.026667rem;\n}\n.reg_panel .reg_box .item .send_again {\n  text-align: center;\n  color: #3A8BBB;\n  font-size: 0.4rem;\n  letter-spacing: 0.053333rem;\n}\n.reg_panel .reg_box .item .send_again.disabled {\n  color: #aaa;\n}\n.reg_panel .reg_box .item .setPass {\n  margin-bottom: 0.586667rem;\n}\n.reg_panel .reg_box .item ul {\n  width: auto;\n  height: auto;\n  margin: 0 auto 0.48rem auto;\n  position: relative;\n  display: inline-block;\n  overflow: hidden;\n}\n.reg_panel .reg_box .item ul li {\n  width: 1.2rem;\n  height: 1.2rem;\n  border: solid 0.026667rem #ebebeb;\n  float: left;\n  line-height: 1.2rem;\n  margin: 0 0.213333rem;\n  border-radius: 0.053333rem;\n  font-size: 0.64rem;\n  color: #333;\n}\n.reg_panel .reg_box .item ul li.active {\n  border-color: #FF7353;\n}\n.reg_panel .reg_box .item ul input {\n  width: 33em;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: -15em;\n  opacity: 0;\n  background: #ccc;\n  outline: none;\n}\n.reg_panel .reg_box .login_type {\n  width: 100%;\n  height: auto;\n  font-size: 0.32rem;\n  color: #ccc;\n  position: relative;\n}\n.reg_panel .reg_box .login_type .title {\n  width: 100%;\n  height: 0.32rem;\n  position: relative;\n}\n.reg_panel .reg_box .login_type .title p {\n  width: 100%;\n  border-bottom: solid 0.026667rem #EEE;\n}\n.reg_panel .reg_box .login_type .title label {\n  width: 2.4rem;\n  height: 0.32rem;\n  background: #FFFFFF;\n  position: absolute;\n  left: 50%;\n  margin-left: -1.2rem;\n  top: -0.16rem;\n  letter-spacing: 0.05rem;\n}\n.reg_panel .reg_box .login_type dl {\n  padding-top: 1.066667rem;\n  width: 100%;\n  height: auto;\n}\n.reg_panel .reg_box .login_type dl dt {\n  width: 1.173333rem;\n  height: 1.173333rem;\n  background: url("+o(t("og37"))+") no-repeat center center;\n  background-size: contain;\n  margin: 0 auto;\n}\n.reg_panel .reg_box .login_type dl dd {\n  font-size: 0.32rem;\n  color: #666;\n  line-height: 1;\n  padding: 0.266667rem 0;\n}\n.reg_panel .pd {\n  padding-top: 15%;\n}\n.reg_panel .protocol {\n  width: 100%;\n  height: 1.333333rem;\n  position: fixed;\n  bottom: 0;\n  padding: 0 0.666667rem;\n}\n.reg_panel .protocol p {\n  text-align: center;\n  line-height: 1.5em;\n  font-size: 0.32rem;\n  color: #999;\n}\n.reg_panel .protocol p label {\n  color: #FF4456;\n}",""])}});